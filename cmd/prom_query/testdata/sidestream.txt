# Sidestream exporter
clear
load 1m
    up{service="sidestream", machine="a"} 1
    up{service="sidestream", machine="b"} 1
    up{service="ssh806", machine="a"} 1
    up{service="ssh806", machine="c"} 1

eval instant at 0m count(up{service="sidestream"})
    {} 2

eval instant at 0m absent(up{service="sidestream"})
# EMPTY RESULT.

eval instant at 0m count(up{service="sidestream"}) < count(up{service="ssh806"})
# EMPTY RESULT.

# Sidestream
# The set of machines that do not have the sidestream service. (strict match):
eval instant at 0m up{service="sidestream"} UNLESS ON(machine) up{service="ssh806"}
    up{service="sidestream", machine="b"} 1

eval instant at 0m up{service="ssh806"} UNLESS ON(machine) up{service="sidestream"}
    up{service="ssh806", machine="c"} 1

eval instant at 0m (up{service="sidestream"} UNLESS ON(machine) up{service="ssh806"}) OR (up{service="ssh806"} UNLESS ON(machine) up{service="sidestream"})
    up{service="sidestream", machine="b"} 1
    up{service="ssh806", machine="c"} 1

